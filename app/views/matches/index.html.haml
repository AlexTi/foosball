%h1 Codeship Foosball

%h2 Players
%ol
  - @players.each do |player|
    %li
      = player.name

= form_tag Match.new do
  %h2 Team Home
  = label :forward_home, 'Forward'
  = select :forward_home, :player_id, @players.collect {|p| [ p.name, p.id ] }
  = label :defense_home, 'Defense'
  = select :defense_home, :player_id, @players.collect {|p| [ p.name, p.id ] }

  %h2 Team Away
  = label :forward_away, 'Forward'
  = select :forward_away, :player_id, @players.collect {|p| [ p.name, p.id ] }
  = label :defense_away, 'Defense'
  = select :defense_away, :player_id, @players.collect {|p| [ p.name, p.id ] }

  = submit_tag "Play!", class: "btn btn-primary"

%h2 Matches

%table
  %tr
    %th
    %th
    %th Home Team
    %th :
    %th Away Team
    %th
    %th
  - @matches.each do |match|
    %tr
      %td= match.home_team.forward_player.name
      %td= match.home_team.defense_player.name
      %td= match.home_team_score
      %td :
      %td= match.away_team_score
      %td= match.away_team.forward_player.name
      %td= match.away_team.defense_player.name
